
<!-- README.md is generated from README.Rmd. Please edit that file -->

# cash-rate-scraper

The key script in this repo is `R/scrape_cash_rate.R`. This file parses
market expectations for the cash rate based on the [latest ASX cash rate
implied yield
curve](https://www.asx.com.au/markets/trade-our-derivatives-market/futures-market/rba-rate-tracker).

The data is saved as a CSV in `daily_data`. The file
`combined_data/all_data.Rds` contains a dataframe that is the
combination of all the daily data CSVs.

Note that there was a gap in the data collection between 1 July and 20
July, as the ASX changed its website.

I offer no assurance that this will continue to work, or that the data
extracted using this script will be free of errors.

The `.github/workflows/refresh_data.yaml` file contains the instructions
to GitHub Actions to tell it to run `scrape_cash_rate.R` each day and
commit the results in this repo.

Please fork/copy/modify as you see fit.

# Graphs!

The file `R/viz_cash_rate.R` produces visualisations of this data, which
are shown below:

    #> Warning: Position guide is perpendicular to the intended axis.
    #> ℹ Did you mean to specify a different guide `position`?
    #> Warning: Removed 21 rows containing missing values or values outside the scale range
    #> (`geom_col()`).
    #> # A tibble: 82 × 4
    #>    scrape_date scrape_time         date       cash_rate
    #>    <date>      <dttm>              <date>         <dbl>
    #>  1 2025-04-03  2025-04-03 12:00:00 2025-04-01      4.08
    #>  2 2025-04-03  2025-04-03 12:00:00 2025-05-01      4   
    #>  3 2025-04-04  2025-04-04 12:00:00 2025-04-01      4.08
    #>  4 2025-04-04  2025-04-04 12:00:00 2025-05-01      3.97
    #>  5 2025-04-07  2025-04-07 12:00:00 2025-04-01      4.05
    #>  6 2025-04-07  2025-04-07 12:00:00 2025-05-01      3.92
    #>  7 2025-04-08  2025-04-08 12:00:00 2025-04-01      4.07
    #>  8 2025-04-08  2025-04-08 12:00:00 2025-05-01      3.94
    #>  9 2025-04-09  2025-04-09 12:00:00 2025-04-01      4.05
    #> 10 2025-04-09  2025-04-09 12:00:00 2025-05-01      3.88
    #> # ℹ 72 more rows
    #> [1] 0.01
    #> # A tibble: 730 × 2
    #>    days_to_meeting finalrmse
    #>              <int>     <dbl>
    #>  1               1    0.0639
    #>  2               2    0.0639
    #>  3               3    0.0639
    #>  4               4    0.0639
    #>  5               5    0.0639
    #>  6               6    0.0639
    #>  7               7    0.0639
    #>  8               8    0.0639
    #>  9               9    0.0639
    #> 10              10    0.0639
    #> # ℹ 720 more rows
    #> # A tibble: 41 × 7
    #>    scrape_time         cash_rate_current cash_rate_next    nb implied_r_tp1
    #>    <dttm>                          <dbl>          <dbl> <dbl>         <dbl>
    #>  1 2025-04-03 12:00:00              4.08           4    0.613          3.88
    #>  2 2025-04-04 12:00:00              4.08           3.97 0.613          3.80
    #>  3 2025-04-07 12:00:00              4.05           3.92 0.613          3.72
    #>  4 2025-04-08 12:00:00              4.07           3.94 0.613          3.76
    #>  5 2025-04-09 12:00:00              4.05           3.88 0.613          3.64
    #>  6 2025-04-10 12:00:00              4.08           3.96 0.613          3.79
    #>  7 2025-04-11 12:00:00              4.08           3.95 0.613          3.76
    #>  8 2025-04-14 12:00:00              4.08           3.95 0.613          3.75
    #>  9 2025-04-16 12:00:00              4.08           3.97 0.613          3.79
    #> 10 2025-04-17 12:00:00              4.08           3.98 0.613          3.82
    #> 11 2025-04-19 14:00:34              4.08           3.98 0.613          3.82
    #> 12 2025-04-20 14:11:25              4.08           3.98 0.613          3.82
    #> 13 2025-04-21 03:26:37              4.08           3.98 0.613          3.82
    #> 14 2025-04-21 03:53:59              4.08           3.98 0.613          3.82
    #> 15 2025-04-21 04:02:19              4.08           3.98 0.613          3.82
    #> 16 2025-04-21 04:10:46              4.08           3.98 0.613          3.82
    #> 17 2025-04-21 04:18:25              4.08           3.98 0.613          3.82
    #> 18 2025-04-21 04:25:34              4.08           3.98 0.613          3.82
    #> 19 2025-04-21 04:35:38              4.08           3.98 0.613          3.82
    #> 20 2025-04-21 04:39:27              4.08           3.98 0.613          3.82
    #> 21 2025-04-21 04:44:18              4.08           3.98 0.613          3.82
    #> 22 2025-04-21 05:15:40              4.08           3.98 0.613          3.82
    #> 23 2025-04-21 05:43:11              4.08           3.98 0.613          3.82
    #> 24 2025-04-21 06:21:05              4.08           3.98 0.613          3.82
    #> 25 2025-04-21 06:51:01              4.08           3.98 0.613          3.82
    #> 26 2025-04-21 06:56:20              4.08           3.98 0.613          3.82
    #> 27 2025-04-21 07:00:02              4.08           3.98 0.613          3.82
    #> 28 2025-04-21 07:12:47              4.08           3.98 0.613          3.82
    #> 29 2025-04-21 07:19:31              4.08           3.98 0.613          3.82
    #> 30 2025-04-21 07:27:53              4.08           3.98 0.613          3.82
    #> 31 2025-04-21 07:29:54              4.08           3.98 0.613          3.82
    #> 32 2025-04-21 07:34:04              4.08           3.98 0.613          3.82
    #> 33 2025-04-21 08:14:06              4.08           3.98 0.613          3.82
    #> 34 2025-04-21 08:19:34              4.08           3.98 0.613          3.82
    #> 35 2025-04-21 08:22:52              4.08           3.98 0.613          3.82
    #> 36 2025-04-21 08:29:06              4.08           3.98 0.613          3.82
    #> 37 2025-04-21 08:34:19              4.08           3.98 0.613          3.82
    #> 38 2025-04-21 08:40:44              4.08           3.98 0.613          3.82
    #> 39 2025-04-21 09:32:16              4.08           3.98 0.613          3.82
    #> 40 2025-04-21 09:37:57              4.08           3.98 0.613          3.82
    #> 41 2025-04-21 03:17:06              4.08           3.98 0.613          3.82
    #>    days_to_meeting  RMSE
    #>              <int> <dbl>
    #>  1              47 0.175
    #>  2              46 0.168
    #>  3              43 0.156
    #>  4              42 0.154
    #>  5              41 0.146
    #>  6              40 0.138
    #>  7              39 0.135
    #>  8              36 0.126
    #>  9              34 0.121
    #> 10              33 0.116
    #> 11              31 0.111
    #> 12              30 0.109
    #> 13              30 0.109
    #> 14              30 0.109
    #> 15              30 0.109
    #> 16              30 0.109
    #> 17              30 0.109
    #> 18              30 0.109
    #> 19              30 0.109
    #> 20              30 0.109
    #> 21              30 0.109
    #> 22              30 0.109
    #> 23              30 0.109
    #> 24              30 0.109
    #> 25              30 0.109
    #> 26              30 0.109
    #> 27              30 0.109
    #> 28              30 0.109
    #> 29              30 0.109
    #> 30              30 0.109
    #> 31              30 0.109
    #> 32              30 0.109
    #> 33              30 0.109
    #> 34              30 0.109
    #> 35              30 0.109
    #> 36              30 0.109
    #> 37              30 0.109
    #> 38              30 0.109
    #> 39              30 0.109
    #> 40              30 0.109
    #> 41              30 0.109
    #> # A tibble: 861 × 3
    #>    scrape_time         bucket probability
    #>    <dttm>              <chr>        <dbl>
    #>  1 2025-04-03 12:00:00 0.10%    2.30e- 97
    #>  2 2025-04-03 12:00:00 0.35%    8.89e- 85
    #>  3 2025-04-03 12:00:00 0.60%    4.44e- 73
    #>  4 2025-04-03 12:00:00 0.85%    2.87e- 62
    #>  5 2025-04-03 12:00:00 1.10%    2.41e- 52
    #>  6 2025-04-03 12:00:00 1.35%    2.62e- 43
    #>  7 2025-04-03 12:00:00 1.60%    3.71e- 35
    #>  8 2025-04-03 12:00:00 1.85%    6.85e- 28
    #>  9 2025-04-03 12:00:00 2.10%    1.65e- 21
    #> 10 2025-04-03 12:00:00 2.35%    5.26e- 16
    #> 11 2025-04-03 12:00:00 2.60%    2.22e- 11
    #> 12 2025-04-03 12:00:00 2.85%    1.25e-  7
    #> 13 2025-04-03 12:00:00 3.10%    9.75e-  5
    #> 14 2025-04-03 12:00:00 3.35%    1.08e-  2
    #> 15 2025-04-03 12:00:00 3.60%    1.84e-  1
    #> 16 2025-04-03 12:00:00 3.85%    5.21e-  1
    #> 17 2025-04-03 12:00:00 4.10%    2.62e-  1
    #> 18 2025-04-03 12:00:00 4.35%    2.23e-  2
    #> 19 2025-04-03 12:00:00 4.60%    2.97e-  4
    #> 20 2025-04-03 12:00:00 4.85%    5.70e-  7
    #> 21 2025-04-03 12:00:00 5.10%    1.51e- 10
    #> 22 2025-04-04 12:00:00 0.10%    3.11e-101
    #> 23 2025-04-04 12:00:00 0.35%    7.13e- 88
    #> 24 2025-04-04 12:00:00 0.60%    1.78e- 75
    #> 25 2025-04-04 12:00:00 0.85%    4.84e- 64
    #> 26 2025-04-04 12:00:00 1.10%    1.44e- 53
    #> 27 2025-04-04 12:00:00 1.35%    4.65e- 44
    #> 28 2025-04-04 12:00:00 1.60%    1.65e- 35
    #> 29 2025-04-04 12:00:00 1.85%    6.42e- 28
    #> 30 2025-04-04 12:00:00 2.10%    2.75e- 21
    #> # ℹ 831 more rows
    #> # A tibble: 123 × 6
    #>    scrape_date            mu sigma r_curr probability bucket    
    #>    <dttm>              <dbl> <dbl>  <dbl>       <dbl> <chr>     
    #>  1 2025-04-03 12:00:00  3.88 0.175   4.08      0.534  -25 bp cut
    #>  2 2025-04-03 12:00:00  3.88 0.175   4.08      0.297  No change 
    #>  3 2025-04-03 12:00:00  3.88 0.175   4.08      0.169  -50 bp cut
    #>  4 2025-04-04 12:00:00  3.80 0.168   4.08      0.554  -25 bp cut
    #>  5 2025-04-04 12:00:00  3.80 0.168   4.08      0.263  -50 bp cut
    #>  6 2025-04-04 12:00:00  3.80 0.168   4.08      0.183  No change 
    #>  7 2025-04-07 12:00:00  3.72 0.156   4.05      0.524  -25 bp cut
    #>  8 2025-04-07 12:00:00  3.72 0.156   4.05      0.388  -50 bp cut
    #>  9 2025-04-07 12:00:00  3.72 0.156   4.05      0.0872 No change 
    #> 10 2025-04-08 12:00:00  3.76 0.154   4.07      0.558  -25 bp cut
    #> # ℹ 113 more rows
